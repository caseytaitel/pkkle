/* Tailwind Base Layer                             */
@tailwind base;

/* Global Variables                                */
:root {
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
  --text-primary: #111111;
  --text-secondary: #555555;
  --text-muted: #777777;
  --bg-soft: #f9fafb;
}

/* Global Element Rules                            */

/* Prevent scrollbar layout shift across pages */
html {
  overflow-y: scroll;
}

/* Scrolling + touch behavior */
html,
body {
  overscroll-behavior-y: none;
  -webkit-tap-highlight-color: transparent;
}

/* Global background */
body {
  background: white;
}

/* Tailwind Base Layer Overrides (Typography, etc.) */
@layer base {
  h1,
  h2,
  h3 {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont;
    font-weight: 600;
    letter-spacing: -0.01em;
    color: var(--text-primary);
  }

  p,
  span,
  label {
    color: var(--text-secondary);
    font-weight: 400;
    letter-spacing: -0.005em;
  }
}

/* Tailwind Components & Utilities                 */
@tailwind components;
@tailwind utilities;

/* Page Transition Classes                         */
.page-enter {
  opacity: 0;
  transform: translateY(6px);
}

.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 120ms ease, transform 120ms ease;
}

/* Global Animations                               */
/* Fade-in */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.35s ease-out both;
}

/* INTRO TEXT */
.fade-slow {
  opacity: 0;
  animation: fadeSlow 1200ms ease forwards;
}

.fade-slow-delay {
  opacity: 0;
  animation: fadeSlow 1200ms ease 300ms forwards;
}

@keyframes fadeSlow {
  from { opacity: 0; transform: translateY(4px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* FIRST LABEL APPEARANCE */
.label-first-appear {
  opacity: 0;
  animation: firstLabelIn 700ms ease forwards;
}

@keyframes firstLabelIn {
  from { opacity: 0; letter-spacing: 0.2px; }
  to   { opacity: 1; letter-spacing: 0px; }
}

/* INVISIBLE MORPH */
.label-morph-out {
  letter-spacing: 0.1px;
  transition: letter-spacing 50ms ease;
}

.label-morph-in {
  letter-spacing: 0px;
  transition: letter-spacing 90ms ease;
}

/* ORB VISIBILITY STATES */
.orb-hidden {
  opacity: 0;
}

.orb-enter-slow {
  opacity: 0;
  animation: orbEnterSlow 2200ms ease-out forwards;
}

@keyframes orbEnterSlow {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* EXIT TRANSITION FOR END OF GROUNDING */
.ground-exit {
  opacity: 0;
  transform: translateY(12px);
}

.ground-exit .orb-enter-slow,
.ground-exit svg {
  opacity: 0 !important;
}

.ground-exit p {
  opacity: 0;
}

/* Success pop */
@keyframes success-pop {
  0% {
    transform: scale(0.4);
    opacity: 0;
  }
  60% {
    transform: scale(1.15);
    opacity: 1;
  }
  100% {
    transform: scale(1);
  }
}

.animate-success-pop {
  animation: success-pop 0.45s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.success-check {
  animation: success-pop 0.45s cubic-bezier(0.16, 1, 0.3, 1) both;
}

/* Subtle pop */
@keyframes subtle-pop {
  0% { transform: scale(0.92); opacity: 0.2; }
  45% { transform: scale(1.07); opacity: 1; }
  100% { transform: scale(1); }
}

.animate-subtle-pop {
  animation: subtle-pop 0.25s ease-out both;
}

/* Loader spin */
@keyframes subtle-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loader {
  width: 32px;
  height: 32px;
  border: 3px solid #e5e7eb; /* gray-300 */
  border-top-color: #000;    /* black accent */
  border-radius: 50%;
  animation: subtle-spin 0.9s linear infinite;
  margin: 0 auto;
}